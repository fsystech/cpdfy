language: cpp
os:
  - linux
node_js:
  - '12'
  #- 'lts'
dist: trusty
addons:
  apt:
    packages:
      - g++
      - make
      - libfontconfig1
      - libxrender1
cache:
  directories:
    - node_modules
before_script:
  - if [ $(uname -s) == 'Linux' ]; then sudo apt-get update; fi;
  - if [ $(uname -s) == 'Linux' ]; then sudo apt install make; fi;
  - if [ $(uname -s) == 'Linux' ]; then sudo apt install g++; fi;
  - if [ $(uname -s) == 'Linux' ]; then sudo apt install libfontconfig1 libxrender1; fi;
install:
  - "npm install"
script:
  - sudo chown -R travis /usr/lib/
  # Run test script
  - node test
git:
  depth: 1